/** * Created by zhaiyingying on 2015/10/27 0027. */hideAll();function hideAll() {    $('.first').find('*').hide()    $('.second').find('*').hide()    $('.third').find('*').hide()    $('.fourth').find('*').hide()    $('.fifth').find('*').hide()    $('.sixth').find('*').hide()    $('.last').find('*').hide()}function addclass(ele, strClass) {    var reg = new RegExp("(^| )" + strClass + "( |$)");    if (!reg.test(ele.className)) {        ele.className += "" + strClass;    }}function removeClass(ele, strClass) {    var reg = new RegExp("(^| )" + strClass + "( |$)", "g");    ele.className = ele.className.replace(reg, "");}var jobInfo = {    hasMus: false,    newClass: function (ele) {        ele = ele || {};        if (this.hasMus == false) {            this.init.prototype = jobInfo;            this.hasMus = true;        }        return new this.init(ele);    },    prevPage: function () {        var _this = this;        if (_this.item == 0) {            _this.item = _this.length - 1;        } else {            _this.item--;        }        _this.addAnimation(_this.item);    },    nextPage: function () {        var _this = this;        _this.item++;        if (_this.item == _this.length) {            _this.item = 0;        }        _this.addAnimation(_this.item);    },    addAnimation: function (items) {        var _this = this;        for (var i = 0; i < _this.length; i++) {            removeClass(_this.mainDiv[i], 'animation')        }        addclass(_this.mainDiv[items], ' animation')        animation(items);    },    bindTouch: function () {        var _this = this;        var page = {            x: 0,            y: 0        };        _this.wrap.addEventListener("touchstart", function (e) {            page.x = e.changedTouches[0].pageX;            page.y = e.changedTouches[0].pageY;            event.preventDefault();        });        _this.wrap.addEventListener("touchend", function (e) {            var endpagex = e.changedTouches[0].pageX - page.x;            var endpagey = e.changedTouches[0].pageY - page.y;            event.preventDefault();            if (Math.abs(endpagey) > 50) {                endpagey < 0 ? _this.nextPage() : _this.prevPage();            }        });    },    init: function (ele) {        var _this = this;        _this.item = ele.item;        _this.length = ele.length;        _this.mainDiv = ele.mainDiv;        _this.wrap = ele.wrap;        _this.bindTouch();    }}var obj = {    item: 0,    wrap: document.getElementById("wrap"),    mainDiv: document.getElementsByClassName("container"),    length: document.getElementsByClassName("container").length}jobInfo.newClass(obj)function animation(i) {    hideAll()    window.setTimeout(function () {        var $container = $('.container').eq(i);        switch (i) {            case 0:                window.setTimeout(function () {                    $('.animation').find('.header-img').show().addClass('animated bounceInUp')                    window.setTimeout(function () {                        $('.animation').find('.header-img-bottom').show().addClass('animated fadeInUp')                        $('.animation').find('.text-top').show().addClass('animated fadeInUp')                        $('.animation').find('.person').show().addClass('animated fadeInUp').animate({width: '53%'}, 1500)                        $('.animation').find('.center').show().addClass('animated fadeInDown')                        $('.animation').find('.img-bottom').show().addClass('animated flipInY')                        $('.animation').find('.text-bottom').show().addClass('animated zoomIn ')                        $('.animation').find('.icon').show().addClass('animated fadeInRight ').animate({top: '62%'}, 1500)                        window.setTimeout(function () {                            down();                        }, 800)                        function down() {                            $('.animation').find('.down').show().animate({                                width: '30px',                                height: '30px',                                top: '94%',                                opacity:1                            }, 200)                            window.setTimeout(function () {                                $('.animation').find('.down').animate({                                    opacity:0,                                    width: '20px',                                    height: '20px',                                    top: '98%'                                }, 20)                                window.setTimeout(function () {                                    down()                                }, 20)                            }, 800)                        }                    }, 1500)                }, 100);                break;            case 1:                $container.find('.header-img').show().addClass('animated fadeInRight')                window.setTimeout(function () {                    $('.second').find('*').show()                    $container.find('.text-bottom').show().addClass('animated zoomIn ')                    $container.find('.img-bottom').show().addClass('animated lightSpeedIn ')                    $container.find('.icon').show().addClass('animated fadeInDown ');                }, 1000)                break;            case 2:                $container.find('.header-img').show().addClass('animated fadeInDown')                window.setTimeout(function () {                    $('.third').find('*').show()                    $container.find('.text-bottom').show().addClass('animated zoomIn ')                    $container.find('.img-bottom').show().addClass('animated lightSpeedIn ')                    $container.find('.icon').show().addClass('animated fadeInDown ');                }, 1000)                break;            case 3:                $container.find('.header-img').show().addClass('animated fadeInLeft')                window.setTimeout(function () {                    $('.fourth').find('*').show()                    $container.find('.text-bottom').show().addClass('animated zoomIn ')                    $container.find('.img-bottom').show().addClass('animated lightSpeedIn ')                    $container.find('.icon').show().addClass('animated fadeInUp ');                }, 1000)                break;            case 4:                $container.find('.header-img').show().addClass('animated fadeInLeft')                window.setTimeout(function () {                    $('.fifth').find('*').show()                    $container.find('.text-bottom').show().addClass('animated zoomIn ')                    $container.find('.icon').show().addClass('animated rotateIn ');                }, 1000)                break;            case 5:                $container.find('.header-img').show().addClass('animated fadeInLeft')                window.setTimeout(function () {                    $('.sixth').find('*').show()                    $container.find('.text-bottom').show().addClass('animated zoomIn ');                    $container.find('.icon').show().addClass('animated tada ');                    $container.find('.img-bottom').show().addClass('animated lightSpeedIn ')                    $container.find('.text-img').show().addClass('animated zoomIn ');                    window.setTimeout(function () {                        $container.find('.icon').animate({top: '25%', left: '67%'}, 1000);                    }, 1000)                }, 1000)                break;            case 6:                $container.find('.header').show()                $container.find('.header .header-img').show().addClass('animated fadeInRight')                window.setTimeout(function () {                    $container.find('.header .img-bottom').show().addClass('animated fadeInUp ');                    $container.find('.content').show();                    $container.find('.btn').each(function (i) {                        window.setTimeout(function () {                            $container.find('.btn').eq(i).show().find('input').show().addClass('animated fadeInUp ');                            $container.find('.btn').eq(i).show().find('span').show().addClass('animated fadeInDown ');                        }, (i + 1) * 500)                        $container.find('.bottom').show();                        $container.find('.bottom .img-bottom').show().addClass('animated zoomIn ');                        $container.find('.bottom .logo').show().addClass('animated rotateInDownRight ');                        $container.find('.bottom .text').show().addClass('animated fadeInLeft ');                    })                }, 1000)                break;        }    }, 100)}window.setTimeout(function () {    $('.animation').find('.header-img').show().addClass('animated bounceInUp')    window.setTimeout(function () {        $('.animation').find('.header-img-bottom').show().addClass('animated fadeInUp')        $('.animation').find('.text-top').show().addClass('animated fadeInUp')        $('.animation').find('.person').show().addClass('animated fadeInUp').animate({width: '53%'}, 1500)        $('.animation').find('.center').show().addClass('animated fadeInDown')        $('.animation').find('.img-bottom').show().addClass('animated flipInY')        $('.animation').find('.text-bottom').show().addClass('animated zoomIn ')        $('.animation').find('.icon').show().addClass('animated fadeInRight ').animate({top: '62%'}, 1500)        window.setTimeout(function () {            down();        }, 800)        function down() {            $('.animation').find('.down').show().animate({                width: '30px',                height: '30px',                top: '94%',                opacity:1            }, 200)            window.setTimeout(function () {                $('.animation').find('.down').animate({                    opacity:0,                    width: '20px',                    height: '20px',                    top: '98%'                }, 20)                window.setTimeout(function () {                    down()                }, 20)            }, 500)        }    }, 1500)}, 100)$('.repeat').unbind('click').on('click', function () {    alert(1)    $('.first').addClass('animation')})/*下载*/$('.download').unbind('click').on('click', function () {    window.location.href = 'http://indir.gundem.me/appstore/';})/*分享接口*/$('.share').unbind('click').on('click', function () {    var imgurl = '../image/sixth-img.png"&sourcePage=4';    var title = "Atamızın Mirası Cumhuriyet";    var content = "Cumhuriyetin 92. Yılı Kutlu olsun!";    /*当前为iPhone*/    if (navigator.userAgent.indexOf('Android') == -1) {        window.location.href = 'gbhcallapp://onWebShare?title=' + title + '&content= ' + content + ' &url=' + window.location + '&picurl="' + imgurl + '&sourcePage=4'    } else if (navigator.userAgent.indexOf('iPhone') == -1) {        /*当前为安卓*/        if (kp_webview == undefined) {            kplottery.onWebShare(title, content, window.location, imgurl, 4)        } else {            kp_webview.webShare(title, content, imgurl, window.location)        }    } else {        /*其他*/        $('.facebook').show();    }})